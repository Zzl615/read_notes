### 一、Python 中 with使用

#### 用法：
with 语句适用于对资源进行访问的场合，确保不管使用过程中是否发生异常都会执行必要的“清理”操作，释放资源，比如文件使用后自动关闭／线程中锁的自动获取和释放等。

#### 原理：**Python 是面向对象语言**

1. 紧跟with后面的语句被求值后，返回对象的“–enter–()”方法被调用，这个方法的返回值将被赋值给as后面的变量；
  
2. 当with后面的代码块全部被执行完之后，将调用前面返回对象的“–exit–()”方法。
  

#### 总结：实际上，在with后面的代码块抛出异常时，**exit**()方法被执行。开发库时，清理资源，关闭文件等操作，都可以放在**exit**()方法中。

[详见](http://blog.kissdata.com/2014/05/23/python-with.html)